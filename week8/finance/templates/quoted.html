{% extends "layout.html" %}

{% block title %}
    {{ stock['symbol'] }} Quote
{% endblock %}

{% block main %}
    <form action="/quote" method="post">
        <div class="form-group">
            <input onfocus="searchingAgain(event)" autocomplete="off" class="form-control" name="symbol" placeholder="Search quotes..." value="{{ stock['symbol'] }}" type="text" validate minLength="1" maxLength="6">
            <button class="btn btn-primary ml-2 mb-1" type="submit" style="display:none">Search</button>
        </div>
    </form>

    <hr width='80%'>

    <div class="quote-results">

        <h4 class="mb-2 text-muted">
                <span style="font-size: smaller">Quote for {{ stock['symbol'] }}</span>
        </h4>

        <h2 class="mb-2" style="color: #537fbe;">{{ stock['name'] }}</h3>

        <p class="mt-4">Latest Price:</p>
        <strong style="font-size: 1.4em">{{ usd(stock['price']) }}</strong>
        <div class="quote-cta">
            <a href="/buy" class="btn btn-primary btn-lg active mt-3" role="button" aria-pressed="true">
                <small>Proceed to Purchase Page</small>
            </a>
        </div>

    </div>

    <script type="text/babel">
        const searchingAgain = e => e.currentTarget.nextElementSibling.style.display="inline-block";
    </script>

{% endblock %}